---
title: Создаём свою команду
description: "«Упаковыва\t, упаковывай!»"
published: true
---

Вот код, который создаёт снеговика:

```python
def setup():
    size(600,400)
    
def draw():
    translate(300,200)
    ellipse(0,-45,30,30)
    ellipse(0,0,60,60)
    ellipse(0,75,90,90)
```

А если мы хотим сделать кучу снеговиков, только в разных местах? Так, что в цикл не упакуешь? Можно превратить три команды ellipse() в одну, назвать её как угодно. Например, snegovik(). Делается это так:

```python
def setup():
    size(600,400)
    
def draw():
    translate(300,200)
    snegovik()
    
def snegovik():
    ellipse(0,-45,30,30)
    ellipse(0,0,60,60)
    ellipse(0,75,90,90)
```

Команда snegovik() подставляет вместо себя команды, которые указаны в её блоке def.
Да, именно так и создаются свои команды, многие из тех, с которыми вы имели дело, точно так же где-то в файлах Processing расписаны из базовых команд Jython (Java-Python). def — сокращение от definition —«определение». В жизни так же. Что такое сходить в магазин? Это

1. Одеться
1. Выйти на улицу
1. Дойти до магазина
1. Купить нужные продукты
1. Вернуться домой



А что такое «одеться»? Это
1. Надеть шапку
1. Надеть куртку
1. Надеть штаны
1. Надеть обувь

...


А что такое надеть шапку? Это «взять шапку...». Но погодите, и «взять шапку» тоже расписывается как порядок действий! Представьте, если бы «сходить в магазин» мы описывали так, вплоть до каждого отдельного сокращения мышцы в руке. К счастью, мы умеем упаковывать набор связанных действий, алгоритм, в одно действие и давать ему название. И умеем понимать это. Вот и языки программирования это умеют.

setup() — это команда, которую где-то там в недрах Processing написано выполнить один раз. draw() — команда, которая запускается Processing в цикле While, тоже где-то там.

Но вернёмся к снеговику. Разместим теперь трёх снеговиков:

```python
def setup():
    size(600,400)
    

def draw():

    push()
    translate(300,200)
    snegovik()
    pop()

    push()
    translate(100,100)
    snegovik()
    pop()

    push()
    translate(400,100)
    snegovik()
    pop()


def snegovik():
    ellipse(0,-45,30,30)
    ellipse(0,0,60,60)
    ellipse(0,75,90,90)
```



Неплохо, только приходится каждый раз писать push(),pop(),translate(). Можно ли и их засунуть внутрь снеговика? Можно:
```python
def snegovik():
    push()
    translate(100,100)
    ellipse(0,-45,30,30)
    ellipse(0,0,60,60)
    ellipse(0,75,90,90)
    pop()
```

Вот только translate же тогда везде будет одинаковый. Можно ли сделать, как во многих программах — добавить параметры? Например, пишем snegovik(200,300), и эти числа вставляются  в параметры translate() внутри снеговика — translate(200,300)? Можно.

Нужно сообщить снеговику, что у него будет два параметра. Придумать, как эти параметры назвать. Например, x и y:

```python
def snegovik(x,y)
```

После этого Processing, согласно стандарту Python, будет ожидать в скобках после слова snegovik два числа. Осталось их подставить во внутренний translate

```python
def setup():
    size(600,400)
    
def draw():
    
    snegovik(100,100)
    snegovik(300,200)
    snegovik(400,100)


def snegovik(x,y):
    push()
    translate(x,y)
    ellipse(0,-45,30,30)
    ellipse(0,0,60,60)
    ellipse(0,75,90,90)
    pop()
```



Всё! Теперь, чтобы нарисовать снеговика, мы можем писать всего одну команду с координатами! Код основной программы очень сократился, и этим хороши подпрограммы. Код пишется один раз в одном месте и потом используется сколько угодно раз. Можно даже убрать код в отдельный файл

![vkladka.png]({{site.baseurl}}/lessons/processing/mycom/vkladka.png)


Создай новую вкладку, назови её snegoviki (не snegovik, чтобы не было лишних совпадений), скопируй код снеговика туда. Тогда, можно будет просто указать, чтобы процедуру snegovik() Processing брал из этого файла

```python
from snegoviki import snegovik

def setup():
    size(600,400)
    
def draw():
    
    snegovik(100,100)
    snegovik(300,200)
    snegovik(400,100)
```

Зайди в папку проекта — проверь, что появился snegoviki.py и там написан код твоего снеговика. Вот такие файлы с набором подпрограмм и называются библиотеками. Ещё там могут быть объекты и классы, но об этом в другой раз.

А теперь переходим к практике:

## Задания по теме «Создаём команду»

1. Возьми снеговика и дорисуй ему руки, а так же добавь параметр changeSize(слово size зарезервировано, его использовать нельзя). Команда scale(2) умножит все координаты и размеры после себя на 2, поставь её после translate() и вставь параметр changeSize. Теперь можно выбирать и размеры снеговика.
2. Персонаж. Изобрази любого персонажа с помощью фигур, упакуй его в команду с параметрами. Сделай, чтобы персонаж двигался, когда ты нажимаешь на клавиши-стрелки.
3. Создай команду «снежинка» с тремя параметрами — x,y (координаты) и размер. Создай концентрический узор из снежинок
4. Сделай ещё две команды, которые будут рисовать снежинки, но другие. Сделай узор, используя три этих снежинки
5. Сделай команду, которая рисует составную фигуру. У команды  3 параметра — x,y, размер. Создай три списка этих параметров, в каждом 10 элементов. Нарисуй 10 фигур с помощью цикла for.
6. Создай свой проект с командами

## Команды и т.д.

- **rectMode(CENTER)** — рисовать прямоугольник «от центра»
- **tasks= \[“побрить руку”,”скукожиться”,”купить поп-сокет”\]** — список дел(строк)
- **tasks= \[\[1,0,1,1],\[1,0,1,1],\[1,0,1,1]]** — список списков чисел
- **tasks[2][1] = 5** — теперь элемент списка списков с индексами 2 и 1 равен 5
- **len(tasks)** — количество элементов списка
- **del tasks[0]** — удалить начальный элемент списка
- **del tasks[len(tasks)-1]** — удалить последний элемент списка
- **for element in tasks:** — для каждого элемента списка…
- **for nRyada in range(len(pole)):**
- __**for nStrobtsa in range(len(pole[nRyada ] ):**
- ____**rect(nStrobtsa 30, nRyada 30,    30,30)**
- **for step in range(9):** — повторить 9 раз
- **myText = myText + “1”** — прибавить к тексту в переменной «1» справа
- **keyPressed** — нажата ли клавиша? Содержит True или False
- **key** — переменная, содержит символ нажатой клавиши
- **keyCode** —  если нажата ALT, CTRL, SHIFT или стрелка LEFT, RIGHT, UP, DOWN
- при этом в key записывается CODED
- **keyPressed() / keyReleased()** — когда клавиша нажата/когда клавиша отпущена
- **textAlign(CENTER,CENTER)** — выравнивание текста по центру
- **text(u”Привет”,200,300)** — вывести текст в 200 от левого края и 300 от правого края
- **mouseClicked():** — функция, код в ней один раз срабатывает при нажатии мыши
- **mouseX, mouseY, pmouseX, pmouseY** — координаты курсора мыши

## Дополнительные задания/Задания для самостоятельной работы

1. Сделай команду, которая рисует другую фигуру (зайца, смайл т.д.)
2. Сделай команду, которая рисует концентрический («круглый» )узор, причём разных размеров в зависимости от параметра(аргумента) и в разных местах
3. Сделай команду, которая рисует узор, с ещё одним параметром: количеством лучей.
